\chapter{实验结果与分析}
\section{实验结果}
Baseline实验结果如表格\ref{tab:results base}所示；卷积神经网络评分预测（五分类实验）实验结果如表格\ref{tab:results5}所示、二分类预测实验结果如表格\ref{tab:results2} 所示。

\begin{table}
\centering
\caption{Baseline实验结果} \label{tab:results base}
\begin{tabular}{c|c|c|c}
    \hline
      & Naive Bayes & SVM & LSTM \\
    \hline
    评分预测（五分类）实验 & 41.54\% & 38.7\% & 43.62\% \\
    \hline
    二分类实验 & 79.64\% & 78.31\% & 81.77\% \\
    \hline
\end{tabular}
\end{table}

\begin{table}
\centering
\caption{评分预测实验准确率结果} \label{tab:results5}
\begin{tabular}{c|c|c|c|c}
    \hline
    Filters Sizes & CNN\_char & CNN & CNN\_2\_channel & CNN\_2\_layer\\
    \hline
    1 & 40.41\% & 43.04\% & - & - \\
    \hline
    1,2 & 42.11\% & 44.12\% & 43.29\% & 40.61\% \\
    \hline
    1,2,3 & 42.49\% & 43.28\% & - & - \\
    \hline
\end{tabular}
\note{实验设置见第四章第二、第三节相关内容，CNN\_char指使用按字断句的输入；双通道和双层只在单层的最优设置上进行了实验。}
\end{table}

\begin{table}
\centering
\caption{二分类实验结果} \label{tab:results2}
\begin{tabular}{c|c|c|c|c}
    \hline
    Filters Sizes & CNN\_char & CNN & CNN\_2\_channel & CNN\_2\_layer\\
    \hline
    1 & 77.89\% & 81.42\% & - & - \\
    \hline
    1,2 & 79.74\% & 82.05\% & 81.33\% & 77.29\% \\
    \hline
    1,2,3 & 80.47\% & 81.50\% & - & - \\
    \hline
\end{tabular}
\note{实验设置见第四章第二、第三节相关内容，CNN\_char指使用按字断句的输入；双通道和双层只在单层的最优设置上进行了实验。}
\end{table}

\section{结果分析}
可以看到使用中文分词器分词的效果要好于按字断句，说明对中文语言文本分词的确可以提取出文本中很多的特征。而基于字断句的话，在训练数据不非常大的情况下（40000句仍然只能算比较少的数据量），或是模型复杂程度不够高的情况下，可能会导致一些信息或特征无法被提取出来，因而导致结果不如分词后的数据。但同时也可以注意到，在卷积核的设置包含了3或4这样比较大的窗口时，基于字断句的输入也会有很好的效果。这说明了说明卷积神经网络的确有提取局部特征（在这里体现为提取出字的组合的特征）的能力。

对于同一卷积神经网络结果，不同的卷积核设置也会明显地影响实验结果。对于输入使用分词器断句的实验，准确率在卷积核长度达到2时达到最大，加上长度为3的卷积核准确率反而下降；对于输入使用按字断句的实验，加上长度为3的卷积核后准确率得到了提高，但再加上长度为4的卷积核后（数据未列在上表上）准确率也下降了。给处理文本问题的卷积神经网络增加更大的卷积核可以看作一种Tradeoff，一方面增加更大的卷积核有可能提取出更多的句子特征，另一方面，这样也会使整个模型更加容易过拟合。实验结果表明，在进行了分词的数据上，连续三个中文词语中可以提取的特征已经很少，由此带来的“更容易过拟合”的缺点对结果的影响甚至超过了提取三个连续词语的特征带来的影响。

单层双通道的模型也取得了很好的实验结果，但其最好的结果没有超过单层单通道的最好实验结果。这与我们开始时的期望略有出入，可能是由于双通道的模型更容易过拟合。双层卷积层模型的结果也超过了baseline算法，但落后于单层卷积层的两种模型。这与图像数据领域的结果有很大差别，可能是因为文本数据每个单词相较于图像数据的像素，包含的信息要多得多。因此，即使在单层卷积层的模型也可以提取出很多的信息，也会有很好的结果。而多层之后，反而由于抽象的层数太高、过拟合的机会增大，可能会导致效果反而不如单层的网络。

另外也可以注意到，五分类问题的结果准确率普遍比较低，不超过45\%。这是由于对影评进行五分类本身是一个比较困难的问题，与本论文数据集相近的SST-1数据集（同样是影评数据，分为五类，分别为非常负面、负面、中立、正面和非常正面），目前最前沿的成果也只能达到48.7\%的准确率。这个问题准确率难以踢得很高是因为每个影评者自己的指标不同，同样一句影评，对于一些人来说会选择给四星，另一些人则会给五星、三星。此外，中间三档影评的区分度很低。本论文使用的数据集未经过人工筛选，只根据作者发过的影评数设置了一个阈值。故数据集中可能存在评论与打分不符，或是一些没有意义的垃圾信息。这些评论也会对结果产生影响。

\begin{table}
\centering
\caption{Confusion Matrix} \label{tab:confusion}
\begin{tabular}{c|c|c|c|c|c}
    \hline
     & 1 & 2 & 3 & 4 & 5\\
    \hline
    1 & 0 & 306 & 166 & 86 & 61\\
    \hline
    2 & 229 & 0 & 303 & 79 & 22 \\
    \hline
    3 & 280 & 687 & 0 & 992 & 340 \\
    \hline
    1 & 59 & 127 & 647 & 0 & 587\\
    \hline
    1 & 43 & 53 & 153 & 368 & 0\\
    \hline
\end{tabular}
\note{横坐标为Ground Truth，纵坐标为预测值。}
\end{table}

表格\ref{tab:confusion}是五分类问题最后结果的confusion matrix，即预测错误的分布。可以看到，大多数的错误分布在主对角线附近，即出现在相邻的两个分段。尤其是中间二、三、四三个阶段，出现的错误非常多。这印证了我们上一段的分析。

因为五分类的结果准确率较低，难以应用在实际问题中。我们又增加了二分类的试验，可以看到，二分类实验的准确率很高，达到了82\%以上。同时可以注意到，各种模型在二分类问题上的相对表现与五分类的相当，即五分类问题中表现好的模型，在二分类中仍有很好的表现。没有出现只在某一个问题上表现特别好或特别差的异常现象，实验结果与预期相符。

\section{小结}
本章对实验结果进行了总结和分析。比较了卷积神经网络的不同卷积核选取带来的结果差异；比较和分析了单层单通道和更复杂网络结构的实验结果；具体分析了为什么评分预测的准确率较低。

